{"ast":null,"code":"import { filter, switchMap, distinctUntilChanged, shareReplay, map } from 'rxjs/operators';\nimport * as i0 from '@angular/core';\nimport { Injectable, InjectionToken, PLATFORM_ID, Inject, Optional, APP_INITIALIZER, NgModule } from '@angular/core';\nimport { Subject, of } from 'rxjs';\nimport { isPlatformBrowser } from '@angular/common';\nvar StorageStrategies;\n(function (StorageStrategies) {\n  StorageStrategies[\"Local\"] = \"local_strategy\";\n  StorageStrategies[\"Session\"] = \"session_strategy\";\n  StorageStrategies[\"InMemory\"] = \"in_memory_strategy\";\n})(StorageStrategies || (StorageStrategies = {}));\nclass CompatHelper {\n  static isStorageAvailable(storage) {\n    let available = true;\n    try {\n      if (typeof storage === 'object') {\n        storage.setItem('test-storage', 'foobar');\n        storage.removeItem('test-storage');\n      } else available = false;\n    } catch (e) {\n      available = false;\n    }\n    return available;\n  }\n}\nfunction noop() {}\nconst DefaultPrefix = 'ngx-webstorage';\nconst DefaultSeparator = '|';\nconst DefaultIsCaseSensitive = false;\nclass StorageKeyManager {\n  static normalize(raw) {\n    raw = StorageKeyManager.isCaseSensitive ? raw : raw.toLowerCase();\n    return `${StorageKeyManager.prefix}${StorageKeyManager.separator}${raw}`;\n  }\n  static isNormalizedKey(key) {\n    return key.indexOf(StorageKeyManager.prefix + StorageKeyManager.separator) === 0;\n  }\n  static setPrefix(prefix) {\n    StorageKeyManager.prefix = prefix;\n  }\n  static setSeparator(separator) {\n    StorageKeyManager.separator = separator;\n  }\n  static setCaseSensitive(enable) {\n    StorageKeyManager.isCaseSensitive = enable;\n  }\n  static consumeConfiguration(config) {\n    if ('prefix' in config) this.setPrefix(config.prefix);\n    if ('separator' in config) this.setSeparator(config.separator);\n    if ('caseSensitive' in config) this.setCaseSensitive(config.caseSensitive);\n  }\n}\nStorageKeyManager.prefix = DefaultPrefix;\nStorageKeyManager.separator = DefaultSeparator;\nStorageKeyManager.isCaseSensitive = DefaultIsCaseSensitive;\nclass SyncStorage {\n  constructor(strategy) {\n    this.strategy = strategy;\n  }\n  retrieve(key) {\n    let value;\n    this.strategy.get(StorageKeyManager.normalize(key)).subscribe(result => value = typeof result === 'undefined' ? null : result);\n    return value;\n  }\n  store(key, value) {\n    this.strategy.set(StorageKeyManager.normalize(key), value).subscribe(noop);\n    return value;\n  }\n  clear(key) {\n    if (key !== undefined) this.strategy.del(StorageKeyManager.normalize(key)).subscribe(noop);else this.strategy.clear().subscribe(noop);\n  }\n  getStrategyName() {\n    return this.strategy.name;\n  }\n  observe(key) {\n    key = StorageKeyManager.normalize(key);\n    return this.strategy.keyChanges.pipe(filter(changed => changed === null || changed === key), switchMap(() => this.strategy.get(key)), distinctUntilChanged(), shareReplay({\n      refCount: true,\n      bufferSize: 1\n    }));\n  }\n}\nclass AsyncStorage {\n  constructor(strategy) {\n    this.strategy = strategy;\n  }\n  retrieve(key) {\n    return this.strategy.get(StorageKeyManager.normalize(key)).pipe(map(value => typeof value === 'undefined' ? null : value));\n  }\n  store(key, value) {\n    return this.strategy.set(StorageKeyManager.normalize(key), value);\n  }\n  clear(key) {\n    return key !== undefined ? this.strategy.del(StorageKeyManager.normalize(key)) : this.strategy.clear();\n  }\n  getStrategyName() {\n    return this.strategy.name;\n  }\n  observe(key) {\n    key = StorageKeyManager.normalize(key);\n    return this.strategy.keyChanges.pipe(filter(changed => changed === null || changed === key), switchMap(() => this.strategy.get(key)), distinctUntilChanged(), shareReplay({\n      refCount: true,\n      bufferSize: 1\n    }));\n  }\n}\nclass StrategyCacheService {\n  constructor() {\n    this.caches = {};\n  }\n  get(strategyName, key) {\n    return this.getCacheStore(strategyName)[key];\n  }\n  set(strategyName, key, value) {\n    this.getCacheStore(strategyName)[key] = value;\n  }\n  del(strategyName, key) {\n    delete this.getCacheStore(strategyName)[key];\n  }\n  clear(strategyName) {\n    this.caches[strategyName] = {};\n  }\n  getCacheStore(strategyName) {\n    if (strategyName in this.caches) return this.caches[strategyName];\n    return this.caches[strategyName] = {};\n  }\n}\nStrategyCacheService.ɵfac = function StrategyCacheService_Factory(t) {\n  return new (t || StrategyCacheService)();\n};\nStrategyCacheService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: StrategyCacheService,\n  factory: StrategyCacheService.ɵfac,\n  providedIn: 'root'\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(StrategyCacheService, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], null, null);\n})();\nconst LOCAL_STORAGE = new InjectionToken('window_local_storage');\nfunction getLocalStorage() {\n  return typeof window !== 'undefined' ? window.localStorage : null;\n}\nconst LocalStorageProvider = {\n  provide: LOCAL_STORAGE,\n  useFactory: getLocalStorage\n};\nconst SESSION_STORAGE = new InjectionToken('window_session_storage');\nfunction getSessionStorage() {\n  return typeof window !== 'undefined' ? window.sessionStorage : null;\n}\nconst SessionStorageProvider = {\n  provide: SESSION_STORAGE,\n  useFactory: getSessionStorage\n};\nclass BaseSyncStorageStrategy {\n  constructor(storage, cache) {\n    this.storage = storage;\n    this.cache = cache;\n    this.keyChanges = new Subject();\n  }\n  get isAvailable() {\n    if (this._isAvailable === undefined) this._isAvailable = CompatHelper.isStorageAvailable(this.storage);\n    return this._isAvailable;\n  }\n  get(key) {\n    let data = this.cache.get(this.name, key);\n    if (data !== undefined) return of(data);\n    try {\n      const item = this.storage.getItem(key);\n      if (item !== null) {\n        data = JSON.parse(item);\n        this.cache.set(this.name, key, data);\n      }\n    } catch (err) {\n      console.warn(err);\n    }\n    return of(data);\n  }\n  set(key, value) {\n    const data = JSON.stringify(value);\n    this.storage.setItem(key, data);\n    this.cache.set(this.name, key, value);\n    this.keyChanges.next(key);\n    return of(value);\n  }\n  del(key) {\n    this.storage.removeItem(key);\n    this.cache.del(this.name, key);\n    this.keyChanges.next(key);\n    return of(null);\n  }\n  clear() {\n    this.storage.clear();\n    this.cache.clear(this.name);\n    this.keyChanges.next(null);\n    return of(null);\n  }\n}\nclass LocalStorageStrategy extends BaseSyncStorageStrategy {\n  constructor(storage, cache, platformId, zone) {\n    super(storage, cache);\n    this.storage = storage;\n    this.cache = cache;\n    this.platformId = platformId;\n    this.zone = zone;\n    this.name = LocalStorageStrategy.strategyName;\n    if (isPlatformBrowser(this.platformId)) this.listenExternalChanges();\n  }\n  listenExternalChanges() {\n    window.addEventListener('storage', event => this.zone.run(() => {\n      if (event.storageArea !== this.storage) return;\n      const key = event.key;\n      if (key !== null) this.cache.del(this.name, event.key);else this.cache.clear(this.name);\n      this.keyChanges.next(key);\n    }));\n  }\n}\nLocalStorageStrategy.strategyName = StorageStrategies.Local;\nLocalStorageStrategy.ɵfac = function LocalStorageStrategy_Factory(t) {\n  return new (t || LocalStorageStrategy)(i0.ɵɵinject(LOCAL_STORAGE), i0.ɵɵinject(StrategyCacheService), i0.ɵɵinject(PLATFORM_ID), i0.ɵɵinject(i0.NgZone));\n};\nLocalStorageStrategy.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: LocalStorageStrategy,\n  factory: LocalStorageStrategy.ɵfac\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(LocalStorageStrategy, [{\n    type: Injectable\n  }], function () {\n    return [{\n      type: undefined,\n      decorators: [{\n        type: Inject,\n        args: [LOCAL_STORAGE]\n      }]\n    }, {\n      type: StrategyCacheService\n    }, {\n      type: undefined,\n      decorators: [{\n        type: Inject,\n        args: [PLATFORM_ID]\n      }]\n    }, {\n      type: i0.NgZone\n    }];\n  }, null);\n})();\nclass SessionStorageStrategy extends BaseSyncStorageStrategy {\n  constructor(storage, cache, platformId, zone) {\n    super(storage, cache);\n    this.storage = storage;\n    this.cache = cache;\n    this.platformId = platformId;\n    this.zone = zone;\n    this.name = SessionStorageStrategy.strategyName;\n    if (isPlatformBrowser(this.platformId)) this.listenExternalChanges();\n  }\n  listenExternalChanges() {\n    window.addEventListener('storage', event => this.zone.run(() => {\n      if (event.storageArea !== this.storage) return;\n      const key = event.key;\n      if (event.key !== null) this.cache.del(this.name, event.key);else this.cache.clear(this.name);\n      this.keyChanges.next(key);\n    }));\n  }\n}\nSessionStorageStrategy.strategyName = StorageStrategies.Session;\nSessionStorageStrategy.ɵfac = function SessionStorageStrategy_Factory(t) {\n  return new (t || SessionStorageStrategy)(i0.ɵɵinject(SESSION_STORAGE), i0.ɵɵinject(StrategyCacheService), i0.ɵɵinject(PLATFORM_ID), i0.ɵɵinject(i0.NgZone));\n};\nSessionStorageStrategy.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: SessionStorageStrategy,\n  factory: SessionStorageStrategy.ɵfac\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(SessionStorageStrategy, [{\n    type: Injectable\n  }], function () {\n    return [{\n      type: undefined,\n      decorators: [{\n        type: Inject,\n        args: [SESSION_STORAGE]\n      }]\n    }, {\n      type: StrategyCacheService\n    }, {\n      type: undefined,\n      decorators: [{\n        type: Inject,\n        args: [PLATFORM_ID]\n      }]\n    }, {\n      type: i0.NgZone\n    }];\n  }, null);\n})();\nclass InMemoryStorageStrategy {\n  constructor(cache) {\n    this.cache = cache;\n    this.keyChanges = new Subject();\n    this.isAvailable = true;\n    this.name = InMemoryStorageStrategy.strategyName;\n  }\n  get(key) {\n    return of(this.cache.get(this.name, key));\n  }\n  set(key, value) {\n    this.cache.set(this.name, key, value);\n    this.keyChanges.next(key);\n    return of(value);\n  }\n  del(key) {\n    this.cache.del(this.name, key);\n    this.keyChanges.next(key);\n    return of(null);\n  }\n  clear() {\n    this.cache.clear(this.name);\n    this.keyChanges.next(null);\n    return of(null);\n  }\n}\nInMemoryStorageStrategy.strategyName = StorageStrategies.InMemory;\nInMemoryStorageStrategy.ɵfac = function InMemoryStorageStrategy_Factory(t) {\n  return new (t || InMemoryStorageStrategy)(i0.ɵɵinject(StrategyCacheService));\n};\nInMemoryStorageStrategy.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: InMemoryStorageStrategy,\n  factory: InMemoryStorageStrategy.ɵfac\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(InMemoryStorageStrategy, [{\n    type: Injectable\n  }], function () {\n    return [{\n      type: StrategyCacheService,\n      decorators: [{\n        type: Inject,\n        args: [StrategyCacheService]\n      }]\n    }];\n  }, null);\n})();\nconst STORAGE_STRATEGIES = new InjectionToken('STORAGE_STRATEGIES');\nconst Strategies = [{\n  provide: STORAGE_STRATEGIES,\n  useClass: InMemoryStorageStrategy,\n  multi: true\n}, {\n  provide: STORAGE_STRATEGIES,\n  useClass: LocalStorageStrategy,\n  multi: true\n}, {\n  provide: STORAGE_STRATEGIES,\n  useClass: SessionStorageStrategy,\n  multi: true\n}];\nconst StorageStrategyStubName = 'stub_strategy';\nclass StorageStrategyStub {\n  constructor(name) {\n    this.keyChanges = new Subject();\n    this.store = {};\n    this._available = true;\n    this.name = name || StorageStrategyStubName;\n  }\n  get isAvailable() {\n    return this._available;\n  }\n  get(key) {\n    return of(this.store[key]);\n  }\n  set(key, value) {\n    this.store[key] = value;\n    this.keyChanges.next(key);\n    return of(value);\n  }\n  del(key) {\n    delete this.store[key];\n    this.keyChanges.next(key);\n    return of(null);\n  }\n  clear() {\n    this.store = {};\n    this.keyChanges.next(null);\n    return of(null);\n  }\n}\nclass StorageStub {\n  constructor() {\n    this.store = {};\n  }\n  get length() {\n    return Object.keys(this.store).length;\n  }\n  clear() {\n    this.store = {};\n  }\n  getItem(key) {\n    return this.store[key] || null;\n  }\n  key(index) {\n    return Object.keys(this.store)[index];\n  }\n  removeItem(key) {\n    delete this.store[key];\n  }\n  setItem(key, value) {\n    this.store[key] = value;\n  }\n}\nconst InvalidStrategyError = 'invalid_strategy';\nclass StrategyIndex {\n  constructor(strategies) {\n    this.strategies = strategies;\n    this.registration$ = new Subject();\n    if (!strategies) strategies = [];\n    this.strategies = strategies.reverse().map((strategy, index, arr) => strategy.name).map((name, index, arr) => arr.indexOf(name) === index ? index : null).filter(index => index !== null).map(index => strategies[index]);\n  }\n  static get(name) {\n    if (!this.isStrategyRegistered(name)) throw Error(InvalidStrategyError);\n    let strategy = this.index[name];\n    if (!strategy.isAvailable) {\n      strategy = this.index[StorageStrategies.InMemory];\n    }\n    return strategy;\n  }\n  static set(name, strategy) {\n    this.index[name] = strategy;\n  }\n  static clear(name) {\n    if (name !== undefined) delete this.index[name];else this.index = {};\n  }\n  static isStrategyRegistered(name) {\n    return name in this.index;\n  }\n  static hasRegistredStrategies() {\n    return Object.keys(this.index).length > 0;\n  }\n  getStrategy(name) {\n    return StrategyIndex.get(name);\n  }\n  indexStrategies() {\n    this.strategies.forEach(strategy => this.register(strategy.name, strategy));\n  }\n  indexStrategy(name, overrideIfExists = false) {\n    if (StrategyIndex.isStrategyRegistered(name) && !overrideIfExists) return StrategyIndex.get(name);\n    const strategy = this.strategies.find(strategy => strategy.name === name);\n    if (!strategy) throw new Error(InvalidStrategyError);\n    this.register(name, strategy, overrideIfExists);\n    return strategy;\n  }\n  register(name, strategy, overrideIfExists = false) {\n    if (!StrategyIndex.isStrategyRegistered(name) || overrideIfExists) {\n      StrategyIndex.set(name, strategy);\n      this.registration$.next(name);\n    }\n  }\n}\nStrategyIndex.index = {};\nStrategyIndex.ɵfac = function StrategyIndex_Factory(t) {\n  return new (t || StrategyIndex)(i0.ɵɵinject(STORAGE_STRATEGIES, 8));\n};\nStrategyIndex.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: StrategyIndex,\n  factory: StrategyIndex.ɵfac,\n  providedIn: 'root'\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(StrategyIndex, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], function () {\n    return [{\n      type: undefined,\n      decorators: [{\n        type: Optional\n      }, {\n        type: Inject,\n        args: [STORAGE_STRATEGIES]\n      }]\n    }];\n  }, null);\n})();\nclass LocalStorageService extends SyncStorage {}\nfunction buildService$1(index) {\n  const strategy = index.indexStrategy(StorageStrategies.Local);\n  return new SyncStorage(strategy);\n}\nconst LocalStorageServiceProvider = {\n  provide: LocalStorageService,\n  useFactory: buildService$1,\n  deps: [StrategyIndex]\n};\nclass SessionStorageService extends SyncStorage {}\nfunction buildService(index) {\n  const strategy = index.indexStrategy(StorageStrategies.Session);\n  return new SyncStorage(strategy);\n}\nconst SessionStorageServiceProvider = {\n  provide: SessionStorageService,\n  useFactory: buildService,\n  deps: [StrategyIndex]\n};\nclass DecoratorBuilder {\n  static buildSyncStrategyDecorator(strategyName, prototype, propName, key, defaultValue = null) {\n    const rawKey = key || propName;\n    let storageKey;\n    Object.defineProperty(prototype, propName, {\n      get: function () {\n        let value;\n        StrategyIndex.get(strategyName).get(getKey()).subscribe(result => value = result);\n        return value === undefined ? defaultValue : value;\n      },\n      set: function (value) {\n        StrategyIndex.get(strategyName).set(getKey(), value).subscribe(noop);\n      }\n    });\n    function getKey() {\n      if (storageKey !== undefined) return storageKey;\n      return storageKey = StorageKeyManager.normalize(rawKey);\n    }\n  }\n}\nfunction LocalStorage(key, defaultValue) {\n  return function (prototype, propName) {\n    DecoratorBuilder.buildSyncStrategyDecorator(StorageStrategies.Local, prototype, propName, key, defaultValue);\n  };\n}\nfunction SessionStorage(key, defaultValue) {\n  return function (prototype, propName) {\n    DecoratorBuilder.buildSyncStrategyDecorator(StorageStrategies.Session, prototype, propName, key, defaultValue);\n  };\n}\nconst Services = [LocalStorageServiceProvider, SessionStorageServiceProvider];\nconst LIB_CONFIG = new InjectionToken('ngx_webstorage_config');\nfunction appInit(index) {\n  index.indexStrategies();\n  return () => StrategyIndex.index;\n}\nclass NgxWebstorageModule {\n  constructor(index, config) {\n    if (config) StorageKeyManager.consumeConfiguration(config);else console.error('NgxWebstorage : Possible misconfiguration (The forRoot method usage is mandatory since the 3.0.0)');\n  }\n  static forRoot(config = {}) {\n    return {\n      ngModule: NgxWebstorageModule,\n      providers: [{\n        provide: LIB_CONFIG,\n        useValue: config\n      }, LocalStorageProvider, SessionStorageProvider, ...Services, ...Strategies, {\n        provide: APP_INITIALIZER,\n        useFactory: appInit,\n        deps: [StrategyIndex],\n        multi: true\n      }]\n    };\n  }\n}\nNgxWebstorageModule.ɵfac = function NgxWebstorageModule_Factory(t) {\n  return new (t || NgxWebstorageModule)(i0.ɵɵinject(StrategyIndex), i0.ɵɵinject(LIB_CONFIG, 8));\n};\nNgxWebstorageModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n  type: NgxWebstorageModule\n});\nNgxWebstorageModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(NgxWebstorageModule, [{\n    type: NgModule,\n    args: [{}]\n  }], function () {\n    return [{\n      type: StrategyIndex\n    }, {\n      type: undefined,\n      decorators: [{\n        type: Optional\n      }, {\n        type: Inject,\n        args: [LIB_CONFIG]\n      }]\n    }];\n  }, null);\n})();\n\n/*\n * Public API Surface of ngx-webstorage\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { AsyncStorage, CompatHelper, InMemoryStorageStrategy, InvalidStrategyError, LIB_CONFIG, LOCAL_STORAGE, LocalStorage, LocalStorageService, LocalStorageStrategy, NgxWebstorageModule, SESSION_STORAGE, STORAGE_STRATEGIES, SessionStorage, SessionStorageService, SessionStorageStrategy, StorageStrategies, StorageStrategyStub, StorageStrategyStubName, StorageStub, StrategyCacheService, StrategyIndex, SyncStorage, appInit };","map":{"version":3,"names":["filter","switchMap","distinctUntilChanged","shareReplay","map","i0","Injectable","InjectionToken","PLATFORM_ID","Inject","Optional","APP_INITIALIZER","NgModule","Subject","of","isPlatformBrowser","StorageStrategies","CompatHelper","isStorageAvailable","storage","available","setItem","removeItem","e","noop","DefaultPrefix","DefaultSeparator","DefaultIsCaseSensitive","StorageKeyManager","normalize","raw","isCaseSensitive","toLowerCase","prefix","separator","isNormalizedKey","key","indexOf","setPrefix","setSeparator","setCaseSensitive","enable","consumeConfiguration","config","caseSensitive","SyncStorage","constructor","strategy","retrieve","value","get","subscribe","result","store","set","clear","undefined","del","getStrategyName","name","observe","keyChanges","pipe","changed","refCount","bufferSize","AsyncStorage","StrategyCacheService","caches","strategyName","getCacheStore","ɵfac","ɵprov","type","args","providedIn","LOCAL_STORAGE","getLocalStorage","window","localStorage","LocalStorageProvider","provide","useFactory","SESSION_STORAGE","getSessionStorage","sessionStorage","SessionStorageProvider","BaseSyncStorageStrategy","cache","isAvailable","_isAvailable","data","item","getItem","JSON","parse","err","console","warn","stringify","next","LocalStorageStrategy","platformId","zone","listenExternalChanges","addEventListener","event","run","storageArea","Local","NgZone","decorators","SessionStorageStrategy","Session","InMemoryStorageStrategy","InMemory","STORAGE_STRATEGIES","Strategies","useClass","multi","StorageStrategyStubName","StorageStrategyStub","_available","StorageStub","length","Object","keys","index","InvalidStrategyError","StrategyIndex","strategies","registration$","reverse","arr","isStrategyRegistered","Error","hasRegistredStrategies","getStrategy","indexStrategies","forEach","register","indexStrategy","overrideIfExists","find","LocalStorageService","buildService$1","LocalStorageServiceProvider","deps","SessionStorageService","buildService","SessionStorageServiceProvider","DecoratorBuilder","buildSyncStrategyDecorator","prototype","propName","defaultValue","rawKey","storageKey","defineProperty","getKey","LocalStorage","SessionStorage","Services","LIB_CONFIG","appInit","NgxWebstorageModule","error","forRoot","ngModule","providers","useValue","ɵmod","ɵinj"],"sources":["D:/Inforce/UrlShortener/UrlShortener/ClientApp/node_modules/ngx-webstorage/fesm2022/ngx-webstorage.mjs"],"sourcesContent":["import { filter, switchMap, distinctUntilChanged, shareReplay, map } from 'rxjs/operators';\nimport * as i0 from '@angular/core';\nimport { Injectable, InjectionToken, PLATFORM_ID, Inject, Optional, APP_INITIALIZER, NgModule } from '@angular/core';\nimport { Subject, of } from 'rxjs';\nimport { isPlatformBrowser } from '@angular/common';\n\nvar StorageStrategies;\n(function (StorageStrategies) {\n    StorageStrategies[\"Local\"] = \"local_strategy\";\n    StorageStrategies[\"Session\"] = \"session_strategy\";\n    StorageStrategies[\"InMemory\"] = \"in_memory_strategy\";\n})(StorageStrategies || (StorageStrategies = {}));\n\nclass CompatHelper {\n    static isStorageAvailable(storage) {\n        let available = true;\n        try {\n            if (typeof storage === 'object') {\n                storage.setItem('test-storage', 'foobar');\n                storage.removeItem('test-storage');\n            }\n            else\n                available = false;\n        }\n        catch (e) {\n            available = false;\n        }\n        return available;\n    }\n}\n\nfunction noop() { }\n\nconst DefaultPrefix = 'ngx-webstorage';\nconst DefaultSeparator = '|';\nconst DefaultIsCaseSensitive = false;\n\nclass StorageKeyManager {\n    static { this.prefix = DefaultPrefix; }\n    static { this.separator = DefaultSeparator; }\n    static { this.isCaseSensitive = DefaultIsCaseSensitive; }\n    static normalize(raw) {\n        raw = StorageKeyManager.isCaseSensitive ? raw : raw.toLowerCase();\n        return `${StorageKeyManager.prefix}${StorageKeyManager.separator}${raw}`;\n    }\n    static isNormalizedKey(key) {\n        return key.indexOf(StorageKeyManager.prefix + StorageKeyManager.separator) === 0;\n    }\n    static setPrefix(prefix) {\n        StorageKeyManager.prefix = prefix;\n    }\n    static setSeparator(separator) {\n        StorageKeyManager.separator = separator;\n    }\n    static setCaseSensitive(enable) {\n        StorageKeyManager.isCaseSensitive = enable;\n    }\n    static consumeConfiguration(config) {\n        if ('prefix' in config)\n            this.setPrefix(config.prefix);\n        if ('separator' in config)\n            this.setSeparator(config.separator);\n        if ('caseSensitive' in config)\n            this.setCaseSensitive(config.caseSensitive);\n    }\n}\n\nclass SyncStorage {\n    constructor(strategy) {\n        this.strategy = strategy;\n    }\n    retrieve(key) {\n        let value;\n        this.strategy.get(StorageKeyManager.normalize(key)).subscribe((result) => value = typeof result === 'undefined' ? null : result);\n        return value;\n    }\n    store(key, value) {\n        this.strategy.set(StorageKeyManager.normalize(key), value).subscribe(noop);\n        return value;\n    }\n    clear(key) {\n        if (key !== undefined)\n            this.strategy.del(StorageKeyManager.normalize(key)).subscribe(noop);\n        else\n            this.strategy.clear().subscribe(noop);\n    }\n    getStrategyName() { return this.strategy.name; }\n    observe(key) {\n        key = StorageKeyManager.normalize(key);\n        return this.strategy.keyChanges.pipe(filter((changed) => changed === null || changed === key), switchMap(() => this.strategy.get(key)), distinctUntilChanged(), shareReplay({ refCount: true, bufferSize: 1 }));\n    }\n}\n\nclass AsyncStorage {\n    constructor(strategy) {\n        this.strategy = strategy;\n    }\n    retrieve(key) {\n        return this.strategy.get(StorageKeyManager.normalize(key)).pipe(map((value) => typeof value === 'undefined' ? null : value));\n    }\n    store(key, value) {\n        return this.strategy.set(StorageKeyManager.normalize(key), value);\n    }\n    clear(key) {\n        return key !== undefined ? this.strategy.del(StorageKeyManager.normalize(key)) : this.strategy.clear();\n    }\n    getStrategyName() { return this.strategy.name; }\n    observe(key) {\n        key = StorageKeyManager.normalize(key);\n        return this.strategy.keyChanges.pipe(filter((changed) => changed === null || changed === key), switchMap(() => this.strategy.get(key)), distinctUntilChanged(), shareReplay({ refCount: true, bufferSize: 1 }));\n    }\n}\n\nclass StrategyCacheService {\n    constructor() {\n        this.caches = {};\n    }\n    get(strategyName, key) {\n        return this.getCacheStore(strategyName)[key];\n    }\n    set(strategyName, key, value) {\n        this.getCacheStore(strategyName)[key] = value;\n    }\n    del(strategyName, key) {\n        delete this.getCacheStore(strategyName)[key];\n    }\n    clear(strategyName) {\n        this.caches[strategyName] = {};\n    }\n    getCacheStore(strategyName) {\n        if (strategyName in this.caches)\n            return this.caches[strategyName];\n        return this.caches[strategyName] = {};\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.0.4\", ngImport: i0, type: StrategyCacheService, deps: [], target: i0.ɵɵFactoryTarget.Injectable }); }\n    static { this.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"16.0.4\", ngImport: i0, type: StrategyCacheService, providedIn: 'root' }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.0.4\", ngImport: i0, type: StrategyCacheService, decorators: [{\n            type: Injectable,\n            args: [{ providedIn: 'root' }]\n        }] });\n\nconst LOCAL_STORAGE = new InjectionToken('window_local_storage');\nfunction getLocalStorage() {\n    return (typeof window !== 'undefined') ? window.localStorage : null;\n}\nconst LocalStorageProvider = { provide: LOCAL_STORAGE, useFactory: getLocalStorage };\nconst SESSION_STORAGE = new InjectionToken('window_session_storage');\nfunction getSessionStorage() {\n    return (typeof window !== 'undefined') ? window.sessionStorage : null;\n}\nconst SessionStorageProvider = { provide: SESSION_STORAGE, useFactory: getSessionStorage };\n\nclass BaseSyncStorageStrategy {\n    constructor(storage, cache) {\n        this.storage = storage;\n        this.cache = cache;\n        this.keyChanges = new Subject();\n    }\n    get isAvailable() {\n        if (this._isAvailable === undefined)\n            this._isAvailable = CompatHelper.isStorageAvailable(this.storage);\n        return this._isAvailable;\n    }\n    get(key) {\n        let data = this.cache.get(this.name, key);\n        if (data !== undefined)\n            return of(data);\n        try {\n            const item = this.storage.getItem(key);\n            if (item !== null) {\n                data = JSON.parse(item);\n                this.cache.set(this.name, key, data);\n            }\n        }\n        catch (err) {\n            console.warn(err);\n        }\n        return of(data);\n    }\n    set(key, value) {\n        const data = JSON.stringify(value);\n        this.storage.setItem(key, data);\n        this.cache.set(this.name, key, value);\n        this.keyChanges.next(key);\n        return of(value);\n    }\n    del(key) {\n        this.storage.removeItem(key);\n        this.cache.del(this.name, key);\n        this.keyChanges.next(key);\n        return of(null);\n    }\n    clear() {\n        this.storage.clear();\n        this.cache.clear(this.name);\n        this.keyChanges.next(null);\n        return of(null);\n    }\n}\n\nclass LocalStorageStrategy extends BaseSyncStorageStrategy {\n    static { this.strategyName = StorageStrategies.Local; }\n    constructor(storage, cache, platformId, zone) {\n        super(storage, cache);\n        this.storage = storage;\n        this.cache = cache;\n        this.platformId = platformId;\n        this.zone = zone;\n        this.name = LocalStorageStrategy.strategyName;\n        if (isPlatformBrowser(this.platformId))\n            this.listenExternalChanges();\n    }\n    listenExternalChanges() {\n        window.addEventListener('storage', (event) => this.zone.run(() => {\n            if (event.storageArea !== this.storage)\n                return;\n            const key = event.key;\n            if (key !== null)\n                this.cache.del(this.name, event.key);\n            else\n                this.cache.clear(this.name);\n            this.keyChanges.next(key);\n        }));\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.0.4\", ngImport: i0, type: LocalStorageStrategy, deps: [{ token: LOCAL_STORAGE }, { token: StrategyCacheService }, { token: PLATFORM_ID }, { token: i0.NgZone }], target: i0.ɵɵFactoryTarget.Injectable }); }\n    static { this.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"16.0.4\", ngImport: i0, type: LocalStorageStrategy }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.0.4\", ngImport: i0, type: LocalStorageStrategy, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: undefined, decorators: [{\n                    type: Inject,\n                    args: [LOCAL_STORAGE]\n                }] }, { type: StrategyCacheService }, { type: undefined, decorators: [{\n                    type: Inject,\n                    args: [PLATFORM_ID]\n                }] }, { type: i0.NgZone }]; } });\n\nclass SessionStorageStrategy extends BaseSyncStorageStrategy {\n    static { this.strategyName = StorageStrategies.Session; }\n    constructor(storage, cache, platformId, zone) {\n        super(storage, cache);\n        this.storage = storage;\n        this.cache = cache;\n        this.platformId = platformId;\n        this.zone = zone;\n        this.name = SessionStorageStrategy.strategyName;\n        if (isPlatformBrowser(this.platformId))\n            this.listenExternalChanges();\n    }\n    listenExternalChanges() {\n        window.addEventListener('storage', (event) => this.zone.run(() => {\n            if (event.storageArea !== this.storage)\n                return;\n            const key = event.key;\n            if (event.key !== null)\n                this.cache.del(this.name, event.key);\n            else\n                this.cache.clear(this.name);\n            this.keyChanges.next(key);\n        }));\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.0.4\", ngImport: i0, type: SessionStorageStrategy, deps: [{ token: SESSION_STORAGE }, { token: StrategyCacheService }, { token: PLATFORM_ID }, { token: i0.NgZone }], target: i0.ɵɵFactoryTarget.Injectable }); }\n    static { this.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"16.0.4\", ngImport: i0, type: SessionStorageStrategy }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.0.4\", ngImport: i0, type: SessionStorageStrategy, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: undefined, decorators: [{\n                    type: Inject,\n                    args: [SESSION_STORAGE]\n                }] }, { type: StrategyCacheService }, { type: undefined, decorators: [{\n                    type: Inject,\n                    args: [PLATFORM_ID]\n                }] }, { type: i0.NgZone }]; } });\n\nclass InMemoryStorageStrategy {\n    static { this.strategyName = StorageStrategies.InMemory; }\n    constructor(cache) {\n        this.cache = cache;\n        this.keyChanges = new Subject();\n        this.isAvailable = true;\n        this.name = InMemoryStorageStrategy.strategyName;\n    }\n    get(key) {\n        return of(this.cache.get(this.name, key));\n    }\n    set(key, value) {\n        this.cache.set(this.name, key, value);\n        this.keyChanges.next(key);\n        return of(value);\n    }\n    del(key) {\n        this.cache.del(this.name, key);\n        this.keyChanges.next(key);\n        return of(null);\n    }\n    clear() {\n        this.cache.clear(this.name);\n        this.keyChanges.next(null);\n        return of(null);\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.0.4\", ngImport: i0, type: InMemoryStorageStrategy, deps: [{ token: StrategyCacheService }], target: i0.ɵɵFactoryTarget.Injectable }); }\n    static { this.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"16.0.4\", ngImport: i0, type: InMemoryStorageStrategy }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.0.4\", ngImport: i0, type: InMemoryStorageStrategy, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: StrategyCacheService, decorators: [{\n                    type: Inject,\n                    args: [StrategyCacheService]\n                }] }]; } });\n\nconst STORAGE_STRATEGIES = new InjectionToken('STORAGE_STRATEGIES');\nconst Strategies = [\n    { provide: STORAGE_STRATEGIES, useClass: InMemoryStorageStrategy, multi: true },\n    { provide: STORAGE_STRATEGIES, useClass: LocalStorageStrategy, multi: true },\n    { provide: STORAGE_STRATEGIES, useClass: SessionStorageStrategy, multi: true },\n];\n\nconst StorageStrategyStubName = 'stub_strategy';\nclass StorageStrategyStub {\n    constructor(name) {\n        this.keyChanges = new Subject();\n        this.store = {};\n        this._available = true;\n        this.name = name || StorageStrategyStubName;\n    }\n    get isAvailable() {\n        return this._available;\n    }\n    get(key) {\n        return of(this.store[key]);\n    }\n    set(key, value) {\n        this.store[key] = value;\n        this.keyChanges.next(key);\n        return of(value);\n    }\n    del(key) {\n        delete this.store[key];\n        this.keyChanges.next(key);\n        return of(null);\n    }\n    clear() {\n        this.store = {};\n        this.keyChanges.next(null);\n        return of(null);\n    }\n}\n\nclass StorageStub {\n    constructor() {\n        this.store = {};\n    }\n    get length() {\n        return Object.keys(this.store).length;\n    }\n    clear() {\n        this.store = {};\n    }\n    getItem(key) {\n        return this.store[key] || null;\n    }\n    key(index) {\n        return Object.keys(this.store)[index];\n    }\n    removeItem(key) {\n        delete this.store[key];\n    }\n    setItem(key, value) {\n        this.store[key] = value;\n    }\n}\n\nconst InvalidStrategyError = 'invalid_strategy';\nclass StrategyIndex {\n    static { this.index = {}; }\n    constructor(strategies) {\n        this.strategies = strategies;\n        this.registration$ = new Subject();\n        if (!strategies)\n            strategies = [];\n        this.strategies = strategies.reverse()\n            .map((strategy, index, arr) => strategy.name)\n            .map((name, index, arr) => arr.indexOf(name) === index ? index : null)\n            .filter((index) => index !== null)\n            .map((index) => strategies[index]);\n    }\n    static get(name) {\n        if (!this.isStrategyRegistered(name))\n            throw Error(InvalidStrategyError);\n        let strategy = this.index[name];\n        if (!strategy.isAvailable) {\n            strategy = this.index[StorageStrategies.InMemory];\n        }\n        return strategy;\n    }\n    static set(name, strategy) {\n        this.index[name] = strategy;\n    }\n    static clear(name) {\n        if (name !== undefined)\n            delete this.index[name];\n        else\n            this.index = {};\n    }\n    static isStrategyRegistered(name) {\n        return name in this.index;\n    }\n    static hasRegistredStrategies() {\n        return Object.keys(this.index).length > 0;\n    }\n    getStrategy(name) {\n        return StrategyIndex.get(name);\n    }\n    indexStrategies() {\n        this.strategies.forEach((strategy) => this.register(strategy.name, strategy));\n    }\n    indexStrategy(name, overrideIfExists = false) {\n        if (StrategyIndex.isStrategyRegistered(name) && !overrideIfExists)\n            return StrategyIndex.get(name);\n        const strategy = this.strategies.find((strategy) => strategy.name === name);\n        if (!strategy)\n            throw new Error(InvalidStrategyError);\n        this.register(name, strategy, overrideIfExists);\n        return strategy;\n    }\n    register(name, strategy, overrideIfExists = false) {\n        if (!StrategyIndex.isStrategyRegistered(name) || overrideIfExists) {\n            StrategyIndex.set(name, strategy);\n            this.registration$.next(name);\n        }\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.0.4\", ngImport: i0, type: StrategyIndex, deps: [{ token: STORAGE_STRATEGIES, optional: true }], target: i0.ɵɵFactoryTarget.Injectable }); }\n    static { this.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"16.0.4\", ngImport: i0, type: StrategyIndex, providedIn: 'root' }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.0.4\", ngImport: i0, type: StrategyIndex, decorators: [{\n            type: Injectable,\n            args: [{ providedIn: 'root' }]\n        }], ctorParameters: function () { return [{ type: undefined, decorators: [{\n                    type: Optional\n                }, {\n                    type: Inject,\n                    args: [STORAGE_STRATEGIES]\n                }] }]; } });\n\nclass LocalStorageService extends SyncStorage {\n}\nfunction buildService$1(index) {\n    const strategy = index.indexStrategy(StorageStrategies.Local);\n    return new SyncStorage(strategy);\n}\nconst LocalStorageServiceProvider = {\n    provide: LocalStorageService,\n    useFactory: buildService$1,\n    deps: [StrategyIndex]\n};\n\nclass SessionStorageService extends SyncStorage {\n}\nfunction buildService(index) {\n    const strategy = index.indexStrategy(StorageStrategies.Session);\n    return new SyncStorage(strategy);\n}\nconst SessionStorageServiceProvider = {\n    provide: SessionStorageService,\n    useFactory: buildService,\n    deps: [StrategyIndex]\n};\n\nclass DecoratorBuilder {\n    static buildSyncStrategyDecorator(strategyName, prototype, propName, key, defaultValue = null) {\n        const rawKey = key || propName;\n        let storageKey;\n        Object.defineProperty(prototype, propName, {\n            get: function () {\n                let value;\n                StrategyIndex.get(strategyName).get(getKey()).subscribe((result) => value = result);\n                return value === undefined ? defaultValue : value;\n            },\n            set: function (value) {\n                StrategyIndex.get(strategyName).set(getKey(), value).subscribe(noop);\n            }\n        });\n        function getKey() {\n            if (storageKey !== undefined)\n                return storageKey;\n            return storageKey = StorageKeyManager.normalize(rawKey);\n        }\n    }\n}\n\nfunction LocalStorage(key, defaultValue) {\n    return function (prototype, propName) {\n        DecoratorBuilder.buildSyncStrategyDecorator(StorageStrategies.Local, prototype, propName, key, defaultValue);\n    };\n}\nfunction SessionStorage(key, defaultValue) {\n    return function (prototype, propName) {\n        DecoratorBuilder.buildSyncStrategyDecorator(StorageStrategies.Session, prototype, propName, key, defaultValue);\n    };\n}\n\nconst Services = [\n    LocalStorageServiceProvider,\n    SessionStorageServiceProvider\n];\n\nconst LIB_CONFIG = new InjectionToken('ngx_webstorage_config');\nfunction appInit(index) {\n    index.indexStrategies();\n    return () => StrategyIndex.index;\n}\nclass NgxWebstorageModule {\n    constructor(index, config) {\n        if (config)\n            StorageKeyManager.consumeConfiguration(config);\n        else\n            console.error('NgxWebstorage : Possible misconfiguration (The forRoot method usage is mandatory since the 3.0.0)');\n    }\n    static forRoot(config = {}) {\n        return {\n            ngModule: NgxWebstorageModule,\n            providers: [\n                {\n                    provide: LIB_CONFIG,\n                    useValue: config,\n                },\n                LocalStorageProvider,\n                SessionStorageProvider,\n                ...Services,\n                ...Strategies,\n                {\n                    provide: APP_INITIALIZER,\n                    useFactory: appInit,\n                    deps: [StrategyIndex],\n                    multi: true\n                }\n            ]\n        };\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.0.4\", ngImport: i0, type: NgxWebstorageModule, deps: [{ token: StrategyIndex }, { token: LIB_CONFIG, optional: true }], target: i0.ɵɵFactoryTarget.NgModule }); }\n    static { this.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"14.0.0\", version: \"16.0.4\", ngImport: i0, type: NgxWebstorageModule }); }\n    static { this.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"16.0.4\", ngImport: i0, type: NgxWebstorageModule }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.0.4\", ngImport: i0, type: NgxWebstorageModule, decorators: [{\n            type: NgModule,\n            args: [{}]\n        }], ctorParameters: function () { return [{ type: StrategyIndex }, { type: undefined, decorators: [{\n                    type: Optional\n                }, {\n                    type: Inject,\n                    args: [LIB_CONFIG]\n                }] }]; } });\n\n/*\n * Public API Surface of ngx-webstorage\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { AsyncStorage, CompatHelper, InMemoryStorageStrategy, InvalidStrategyError, LIB_CONFIG, LOCAL_STORAGE, LocalStorage, LocalStorageService, LocalStorageStrategy, NgxWebstorageModule, SESSION_STORAGE, STORAGE_STRATEGIES, SessionStorage, SessionStorageService, SessionStorageStrategy, StorageStrategies, StorageStrategyStub, StorageStrategyStubName, StorageStub, StrategyCacheService, StrategyIndex, SyncStorage, appInit };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}